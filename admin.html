<!DOCTYPE html>
<html>
<head>
<title>Habibi Admin</title>
<style>
body{background:#0b0614;color:#fff;font-family:Poppins;padding:40px}
input,button{padding:10px;margin:6px;border-radius:8px;border:none}
button{background:#b983ff;font-weight:700;cursor:pointer}
.card{background:#1b0f2e;padding:14px;border-radius:10px;margin:10px 0}
img{width:100%;border-radius:8px}
</style>
</head>

<body>

<h2>Habibi Market Admin</h2>

<input id="admin" placeholder="Admin username">
<input id="name" placeholder="Brainrot name">
<input id="img" placeholder="Image URL">
<input id="robux" placeholder="Robux price">
<input id="money" placeholder="Money price">

<button onclick="add()">Add Brainrot</button>

<div id="list"></div>

<script>
const API="https://script.google.com/macros/s/AKfycbzVmQp-ahB7kx-1nybjlTdSQXuSUBjUV0j07xyo_UaNGTpgEHYkZEodixrcDRagaa5Xaw/exec"
let brainrots=[]

fetch(API).then(r=>r.json()).then(d=>{
 brainrots=d
 render()
})

function render(){
 list.innerHTML=""
 brainrots.forEach((b,i)=>{
  list.innerHTML+=`
  <div class="card">
   <img src="${b.img}">
   <b>${b.name}</b><br>
   ${b.robux} | ${b.money}<br>
   <button onclick="del(${i})">Delete</button>
  </div>`
 })
}

function add(){
 if(admin.value!=="Xama")return
 brainrots.push({
  name:name.value,
  img:img.value,
  robux:robux.value,
  money:money.value
 })
 save()
}

function del(i){
 if(admin.value!=="Xama")return
 brainrots.splice(i,1)
 save()
}

function save(){
 fetch(API,{
  method:"POST",
  body:JSON.stringify({
   admin:admin.value,
   data:brainrots
  })
 }).then(()=>render())
}
</script>

</body>
</html>
